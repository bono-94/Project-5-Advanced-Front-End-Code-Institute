{"ast":null,"code":"// import { createContext, useContext, useEffect, useState } from \"react\";\n// import { axiosReq, axiosRes } from \"../api/axiosDefaults\";\n// import { useCurrentUser } from \"../contexts/CurrentUserContext\";\n// import { followHelper, unfollowHelper } from \"../utils/utils\";\n\n// const ProfileDataContext = createContext();\n// const SetProfileDataContext = createContext();\n\n// export const useProfileData = () => useContext(ProfileDataContext);\n// export const useSetProfileData = () => useContext(SetProfileDataContext);\n\n// export const ProfileDataProvider = ({ children }) => {\n//   const [profileData, setProfileData] = useState({\n//     // we will use the pageProfile later!\n//     pageProfile: { results: [] },\n//     popularProfiles: { results: [] },\n//   });\n\n//   const currentUser = useCurrentUser();\n\n//   const handleFollow = async (clickedProfile) => {\n//     try {\n//       const { data } = await axiosRes.post(\"/followers/\", {\n//         followed: clickedProfile.id,\n//       });\n\n//       setProfileData((prevState) => ({\n//         ...prevState,\n//         pageProfile: {\n//           results: prevState.pageProfile.results.map((profile) =>\n//             followHelper(profile, clickedProfile, data.id)\n//           ),\n//         },\n//         popularProfiles: {\n//           ...prevState.popularProfiles,\n//           results: prevState.popularProfiles.results.map((profile) =>\n//             followHelper(profile, clickedProfile, data.id)\n//           ),\n//         },\n//       }));\n//     } catch (err) {\n//       // console.log(err);\n//     }\n//   };\n\n//   const handleUnfollow = async (clickedProfile) => {\n//     try {\n//       await axiosRes.delete(`/followers/${clickedProfile.following_id}/`);\n\n//       setProfileData((prevState) => ({\n//         ...prevState,\n//         pageProfile: {\n//           results: prevState.pageProfile.results.map((profile) =>\n//             unfollowHelper(profile, clickedProfile)\n//           ),\n//         },\n//         popularProfiles: {\n//           ...prevState.popularProfiles,\n//           results: prevState.popularProfiles.results.map((profile) =>\n//             unfollowHelper(profile, clickedProfile)\n//           ),\n//         },\n//       }));\n//     } catch (err) {\n//       // console.log(err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     const handleMount = async () => {\n//       try {\n//         const { data } = await axiosReq.get(\n//           \"/profiles/?ordering=-followers_count\"\n//         );\n//         setProfileData((prevState) => ({\n//           ...prevState,\n//           popularProfiles: data,\n//         }));\n//       } catch (err) {\n//         // console.log(err);\n//       }\n//     };\n\n//     handleMount();\n//   }, [currentUser]);\n\n//   return (\n//     <ProfileDataContext.Provider value={profileData}>\n//       <SetProfileDataContext.Provider\n//         value={{ setProfileData, handleFollow, handleUnfollow }}\n//       >\n//         {children}\n//       </SetProfileDataContext.Provider>\n//     </ProfileDataContext.Provider>\n//   );\n// };","map":{"version":3,"names":[],"sources":["/workspace/Project-5-Advanced-Front-End-Code-Institute/react-app/src/contexts/ProfileDataContext.js"],"sourcesContent":["// import { createContext, useContext, useEffect, useState } from \"react\";\n// import { axiosReq, axiosRes } from \"../api/axiosDefaults\";\n// import { useCurrentUser } from \"../contexts/CurrentUserContext\";\n// import { followHelper, unfollowHelper } from \"../utils/utils\";\n\n// const ProfileDataContext = createContext();\n// const SetProfileDataContext = createContext();\n\n// export const useProfileData = () => useContext(ProfileDataContext);\n// export const useSetProfileData = () => useContext(SetProfileDataContext);\n\n// export const ProfileDataProvider = ({ children }) => {\n//   const [profileData, setProfileData] = useState({\n//     // we will use the pageProfile later!\n//     pageProfile: { results: [] },\n//     popularProfiles: { results: [] },\n//   });\n\n//   const currentUser = useCurrentUser();\n\n//   const handleFollow = async (clickedProfile) => {\n//     try {\n//       const { data } = await axiosRes.post(\"/followers/\", {\n//         followed: clickedProfile.id,\n//       });\n\n//       setProfileData((prevState) => ({\n//         ...prevState,\n//         pageProfile: {\n//           results: prevState.pageProfile.results.map((profile) =>\n//             followHelper(profile, clickedProfile, data.id)\n//           ),\n//         },\n//         popularProfiles: {\n//           ...prevState.popularProfiles,\n//           results: prevState.popularProfiles.results.map((profile) =>\n//             followHelper(profile, clickedProfile, data.id)\n//           ),\n//         },\n//       }));\n//     } catch (err) {\n//       // console.log(err);\n//     }\n//   };\n\n//   const handleUnfollow = async (clickedProfile) => {\n//     try {\n//       await axiosRes.delete(`/followers/${clickedProfile.following_id}/`);\n\n//       setProfileData((prevState) => ({\n//         ...prevState,\n//         pageProfile: {\n//           results: prevState.pageProfile.results.map((profile) =>\n//             unfollowHelper(profile, clickedProfile)\n//           ),\n//         },\n//         popularProfiles: {\n//           ...prevState.popularProfiles,\n//           results: prevState.popularProfiles.results.map((profile) =>\n//             unfollowHelper(profile, clickedProfile)\n//           ),\n//         },\n//       }));\n//     } catch (err) {\n//       // console.log(err);\n//     }\n//   };\n\n//   useEffect(() => {\n//     const handleMount = async () => {\n//       try {\n//         const { data } = await axiosReq.get(\n//           \"/profiles/?ordering=-followers_count\"\n//         );\n//         setProfileData((prevState) => ({\n//           ...prevState,\n//           popularProfiles: data,\n//         }));\n//       } catch (err) {\n//         // console.log(err);\n//       }\n//     };\n\n//     handleMount();\n//   }, [currentUser]);\n\n//   return (\n//     <ProfileDataContext.Provider value={profileData}>\n//       <SetProfileDataContext.Provider\n//         value={{ setProfileData, handleFollow, handleUnfollow }}\n//       >\n//         {children}\n//       </SetProfileDataContext.Provider>\n//     </ProfileDataContext.Provider>\n//   );\n// };"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}